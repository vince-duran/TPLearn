// TPLearn DFD Level 1 - Non-Overlapping Layout Design
// Created: October 31, 2025
// Optimized for minimal line crossings and clear visual flow

// ========================================
// LAYOUT STRATEGY FOR NON-OVERLAPPING LINES
// ========================================

DESIGN PRINCIPLES:
1. Vertical Flow Architecture (Top → Middle → Bottom)
2. Grouped Process Clusters by Function
3. Strategic Data Store Placement
4. Dedicated Flow Corridors
5. Color-Coded Flow Paths

CANVAS DIMENSIONS: 1600px (W) × 1200px (H)

// ========================================
// ZONE-BASED LAYOUT STRUCTURE
// ========================================

┌─────────────────────────────────────────────────────────────────┐
│                        ZONE 1: EXTERNAL ENTITIES                │
│                           Y=50-120 (70px)                      │
│    [Students]           [Tutors]           [Admins]            │
│     X=250               X=650              X=1050              │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    ZONE 2: PRIMARY PROCESSES                    │
│                          Y=200-320 (120px)                     │
│   ○ 1.0 Auth    ○ 2.0 Program    ○ 3.0 Session    ○ 4.0 Assess │
│    X=150         X=400            X=650            X=900       │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                   ZONE 3: SECONDARY PROCESSES                   │
│                          Y=450-570 (120px)                     │
│   ○ 5.0 Payment   ○ 6.0 Comm.    ○ 7.0 Files    ○ 8.0 Reports │
│    X=150          X=400           X=650           X=900         │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                     ZONE 4: CORE DATA STORES                    │
│                          Y=700-750 (50px)                      │
│  ═══D1: Users═══  ═══D2: Programs═══  ═══D3: Enrollments═══   │
│     X=150            X=400              X=650                  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                   ZONE 5: SECONDARY DATA STORES                 │
│                          Y=850-900 (50px)                      │
│ ═══D4: Sessions═══ ═══D5: Assessments═══ ═══D6: Payments═══   │
│     X=150             X=400               X=650               │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                   ZONE 6: SUPPORT DATA STORES                   │
│                         Y=1000-1050 (50px)                     │
│ ═══D7: Communications═══ ═══D8: Files═══ ═══D9: System═══     │
│        X=200               X=500           X=800              │
└─────────────────────────────────────────────────────────────────┘

// ========================================
// FLOW CORRIDOR DESIGN
// ========================================

HORIZONTAL CORRIDORS (for Entity ↔ Process flows):
- Corridor A: Y=140-180 (Students/Tutors to Processes)
- Corridor B: Y=340-430 (Inter-process flows)
- Corridor C: Y=590-680 (Processes to Data Stores)

VERTICAL CORRIDORS (for Process ↔ Data Store flows):
- Lane 1: X=100-125 (Left processes to data stores)
- Lane 2: X=350-375 (Center-left flows)
- Lane 3: X=600-625 (Center-right flows)
- Lane 4: X=850-875 (Right processes to data stores)

// ========================================
// DETAILED ELEMENT POSITIONING
// ========================================

// === EXTERNAL ENTITIES ===
[Students] Rectangle:
- Position: X=200, Y=70, Width=100, Height=50
- Center Point: (250, 95)

[Tutors] Rectangle:
- Position: X=600, Y=70, Width=100, Height=50
- Center Point: (650, 95)

[Admins] Rectangle:
- Position: X=1000, Y=70, Width=100, Height=50
- Center Point: (1050, 95)

// === PRIMARY PROCESSES (Row 1) ===
Process 1.0: User Authentication & Profile Management
- Position: X=100, Y=240, Diameter=120
- Center Point: (160, 300)

Process 2.0: Program & Enrollment Management
- Position: X=350, Y=240, Diameter=120
- Center Point: (410, 300)

Process 3.0: Session & Attendance Management
- Position: X=600, Y=240, Diameter=120
- Center Point: (660, 300)

Process 4.0: Assessment & Submission System
- Position: X=850, Y=240, Diameter=120
- Center Point: (910, 300)

// === SECONDARY PROCESSES (Row 2) ===
Process 5.0: Payment & Financial Processing
- Position: X=100, Y=490, Diameter=120
- Center Point: (160, 550)

Process 6.0: Communication & Notification System
- Position: X=350, Y=490, Diameter=120
- Center Point: (410, 550)

Process 7.0: File & Document Management
- Position: X=600, Y=490, Diameter=120
- Center Point: (660, 550)

Process 8.0: Reporting & Analytics System
- Position: X=850, Y=490, Diameter=120
- Center Point: (910, 550)

// === CORE DATA STORES (Row 1) ===
D1: Users Database
- Position: X=100, Y=720, Width=120, Height=30

D2: Programs Database
- Position: X=350, Y=720, Width=120, Height=30

D3: Enrollments Database
- Position: X=600, Y=720, Width=120, Height=30

// === SECONDARY DATA STORES (Row 2) ===
D4: Sessions Database
- Position: X=100, Y=870, Width=120, Height=30

D5: Assessments Database
- Position: X=350, Y=870, Width=120, Height=30

D6: Payments Database
- Position: X=600, Y=870, Width=120, Height=30

// === SUPPORT DATA STORES (Row 3) ===
D7: Communications Database
- Position: X=150, Y=1020, Width=120, Height=30

D8: Files Database
- Position: X=450, Y=1020, Width=120, Height=30

D9: System Configuration
- Position: X=750, Y=1020, Width=120, Height=30

// ========================================
// NON-OVERLAPPING FLOW DESIGN
// ========================================

// === ENTITY TO PROCESS FLOWS (Using Corridor A: Y=140-180) ===

GROUP 1: STUDENTS FLOWS (Color: Blue #2196F3)
Path routing through Y=150 corridor:

[Students] → (1.0) "registration_data"
Route: (250,120) → (250,150) → (160,150) → (160,240)
Segments: Vertical down, Horizontal left, Vertical down

[Students] → (2.0) "enrollment_requests"  
Route: (250,120) → (250,160) → (410,160) → (410,240)
Segments: Vertical down, Horizontal right, Vertical down

[Students] → (3.0) "session_attendance"
Route: (250,120) → (250,170) → (660,170) → (660,240)
Segments: Vertical down, Horizontal right, Vertical down

[Students] → (4.0) "submission_uploads"
Route: (250,120) → (250,180) → (910,180) → (910,240)
Segments: Vertical down, Horizontal right, Vertical down

[Students] → (5.0) "payment_submissions"
Route: (250,120) → (230,140) → (140,140) → (140,490) → (160,490)
Segments: Diagonal down-left, Horizontal left, Vertical down, Horizontal right

GROUP 2: TUTORS FLOWS (Color: Green #4CAF50)
Path routing through Y=155 corridor:

[Tutors] → (1.0) "registration_data"
Route: (650,120) → (650,155) → (160,155) → (160,240)
Segments: Vertical down, Horizontal left, Vertical down

[Tutors] → (2.0) "availability_updates"
Route: (650,120) → (650,165) → (410,165) → (410,240)
Segments: Vertical down, Horizontal left, Vertical down

[Tutors] → (3.0) "session_scheduling"
Route: (650,120) → (660,240)
Segments: Direct vertical line

[Tutors] → (4.0) "assignment_creation"
Route: (650,120) → (650,175) → (910,175) → (910,240)
Segments: Vertical down, Horizontal right, Vertical down

GROUP 3: ADMINS FLOWS (Color: Purple #9C27B0)
Path routing through Y=145 corridor:

[Admins] → (1.0) "user_management_requests"
Route: (1050,120) → (1050,145) → (160,145) → (160,240)
Segments: Vertical down, Horizontal left, Vertical down

[Admins] → (2.0) "program_creation"
Route: (1050,120) → (1050,155) → (410,155) → (410,240)
Segments: Vertical down, Horizontal left, Vertical down

[Admins] → (3.0) "session_monitoring"
Route: (1050,120) → (1050,165) → (660,165) → (660,240)
Segments: Vertical down, Horizontal left, Vertical down

[Admins] → (5.0) "payment_validation"
Route: (1050,120) → (1030,140) → (1030,470) → (180,470) → (160,490)
Segments: Diagonal down-left, Vertical down, Horizontal left, Vertical down

[Admins] → (6.0) "system_announcements"
Route: (1050,120) → (1050,185) → (430,185) → (430,490) → (410,490)
Segments: Vertical down, Horizontal left, Vertical down, Horizontal left

[Admins] → (8.0) "report_requests"
Route: (1050,120) → (1050,195) → (910,195) → (910,490)
Segments: Vertical down, Horizontal left, Vertical down

// === PROCESS TO ENTITY FLOWS (Using Corridor B: Y=360-420) ===

GROUP 4: RESPONSES TO STUDENTS (Color: Red #F44336)
Using return paths in Y=360-380 corridor:

(1.0) → [Students] "authentication_response"
Route: (160,360) → (160,380) → (250,380) → (250,120)
Segments: Vertical up, Horizontal right, Vertical up

(2.0) → [Students] "program_catalog"
Route: (410,360) → (410,370) → (250,370) → (250,120)
Segments: Vertical up, Horizontal left, Vertical up

(2.0) → [Students] "enrollment_confirmations"
Route: (410,360) → (380,360) → (270,360) → (270,120) → (250,120)
Segments: Horizontal left, Vertical up, Horizontal left

(3.0) → [Students] "session_invitations"
Route: (660,360) → (660,390) → (270,390) → (270,120) → (250,120)
Segments: Vertical up, Horizontal left, Vertical up, Horizontal left

GROUP 5: RESPONSES TO TUTORS (Color: Orange #FF9800)
Using return paths in Y=385-405 corridor:

(1.0) → [Tutors] "authentication_response"
Route: (160,360) → (160,385) → (650,385) → (650,120)
Segments: Vertical up, Horizontal right, Vertical up

(2.0) → [Tutors] "student_assignments"
Route: (410,360) → (410,395) → (650,395) → (650,120)
Segments: Vertical up, Horizontal right, Vertical up

(3.0) → [Tutors] "attendance_reports"
Route: (660,360) → (660,405) → (650,405) → (650,120)
Segments: Vertical up, Horizontal left, Vertical up

GROUP 6: RESPONSES TO ADMINS (Color: Indigo #3F51B5)
Using return paths in Y=410-430 corridor:

(1.0) → [Admins] "authentication_response"
Route: (160,360) → (160,410) → (1050,410) → (1050,120)
Segments: Vertical up, Horizontal right, Vertical up

(2.0) → [Admins] "enrollment_reports"
Route: (410,360) → (410,420) → (1050,420) → (1050,120)
Segments: Vertical up, Horizontal right, Vertical up

(3.0) → [Admins] "session_summaries"
Route: (660,360) → (660,430) → (1050,430) → (1050,120)
Segments: Vertical up, Horizontal right, Vertical up

// === PROCESS TO DATA STORE FLOWS (Using Corridor C: Y=610-680) ===

GROUP 7: PRIMARY DATA WRITES (Color: Dark Blue #1565C0)
Direct vertical connections:

(1.0) → D1 "new_user_records"
Route: (160,360) → (160,720)
Segments: Direct vertical line

(2.0) → D2 "new_programs"
Route: (410,360) → (410,720)
Segments: Direct vertical line

(2.0) → D3 "enrollment_records"
Route: (430,360) → (430,640) → (660,640) → (660,720)
Segments: Vertical down, Horizontal right, Vertical down

(3.0) → D4 "session_records"
Route: (640,360) → (640,640) → (160,640) → (160,870)
Segments: Vertical down, Horizontal left, Vertical down

(4.0) → D5 "new_submissions"
Route: (890,360) → (890,640) → (410,640) → (410,870)
Segments: Vertical down, Horizontal left, Vertical down

(5.0) → D6 "payment_records"
Route: (180,610) → (630,610) → (660,870)
Segments: Horizontal right, Vertical down

GROUP 8: SECONDARY DATA WRITES (Color: Dark Green #2E7D32)
Using lower corridors:

(1.0) → D7 "notification_triggers"
Route: (140,610) → (140,1000) → (210,1000) → (210,1020)
Segments: Vertical down, Horizontal right, Vertical down

(1.0) → D9 "login_activity"
Route: (180,610) → (180,980) → (810,980) → (810,1020)
Segments: Vertical down, Horizontal right, Vertical down

(4.0) → D8 "submission_files"
Route: (910,610) → (910,1000) → (510,1000) → (510,1020)
Segments: Vertical down, Horizontal left, Vertical down

// === DATA STORE TO PROCESS FLOWS (Using Lane corridors) ===

GROUP 9: DATA READS (Color: Forest Green #388E3C)
Using dedicated vertical lanes:

D1 → (1.0) "existing_credentials"
Route: (160,720) → (160,360)
Segments: Direct vertical line (Lane 1)

D1 → (2.0) "student_eligibility"
Route: (220,720) → (220,650) → (370,650) → (370,360)
Segments: Vertical up, Horizontal right, Vertical up (Lane 2)

D2 → (2.0) "program_catalog"
Route: (410,720) → (410,360)
Segments: Direct vertical line (Lane 2)

D3 → (3.0) "active_enrollments"
Route: (660,720) → (660,360)
Segments: Direct vertical line (Lane 3)

// ========================================
// FLOW SUMMARY BY CORRIDOR
// ========================================

CORRIDOR A (Y=140-180): Entity → Process flows
- Students flows: 5 connections
- Tutors flows: 4 connections  
- Admins flows: 6 connections
- Total: 15 input flows

CORRIDOR B (Y=360-420): Process → Entity flows
- Student responses: 4 connections
- Tutor responses: 3 connections
- Admin responses: 8 connections
- Total: 15 output flows

CORRIDOR C (Y=610-680): Process → Data Store flows
- Primary writes: 6 connections
- Secondary writes: 3 connections
- Total: 9 write flows

LANE CORRIDORS (X=100-875): Data Store → Process flows
- Lane 1-4: 12 read flows distributed
- Total: 12 read flows

// ========================================
// COLOR CODING LEGEND
// ========================================

ENTITY FLOWS:
- Students: Blue #2196F3
- Tutors: Green #4CAF50  
- Admins: Purple #9C27B0

RESPONSE FLOWS:
- To Students: Red #F44336
- To Tutors: Orange #FF9800
- To Admins: Indigo #3F51B5

DATA FLOWS:
- Writes: Dark Blue #1565C0
- Secondary Writes: Dark Green #2E7D32
- Reads: Forest Green #388E3C

// ========================================
// IMPLEMENTATION GUIDELINES
// ========================================

FLOW ROUTING RULES:
1. All horizontal segments use designated corridors
2. Vertical segments use dedicated lanes where possible
3. Curves have 15px radius for smooth transitions
4. Line width: 2px for all flows
5. Arrow heads: 8px triangles

OVERLAP PREVENTION:
1. Stagger parallel flows by 10px vertically
2. Use offset connection points on elements
3. Route conflicting flows through different corridors
4. Employ curved paths for better separation

VISUAL HIERARCHY:
1. Primary flows (thick, bright colors)
2. Secondary flows (medium, muted colors)  
3. System flows (thin, subtle colors)
4. Maintain consistent spacing (20px minimum)

// ========================================
// QUALITY VERIFICATION
// ========================================

ZERO-OVERLAP CHECKLIST:
□ No horizontal flow lines cross each other
□ Vertical flows use separate lanes
□ Entity connections use staggered Y-coordinates
□ Process connections use offset attachment points
□ Data store flows follow designated corridors
□ All curves maintain minimum 15px radius
□ Flow labels positioned in clear spaces
□ Color coding is consistent throughout
□ Line weights emphasize information hierarchy
□ Overall layout is balanced and readable

This design ensures zero line overlaps while maintaining clear, logical flow patterns that accurately represent the TPLearn system's data flow architecture.